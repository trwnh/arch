#!/bin/bash

## post
# login as trwnh

if [$(which yay) != "/usr/bin/yay"]
then
  git clone https://aur.archlinux.org/yay.git
  cd yay
  makepkg -sic
  yay --nodiffmenu --save
  cd ..
  sudo rm -r yay
  echo "Installed yay."
fi

if [$(yay -Qqe gnome-disk-utility) != "gnome-disk-utility"]
then
  yay -S \
    ttf-amiri ttf-arabeyes-fonts ttf-qurancomplex-fonts ttf-sil-lateef ttf-sil-scheherazade \
    ttf-droid ttf-roboto ttf-roboto-slab ttf-roboto-mono noto-fonts noto-fonts-emoji noto-fonts-extra noto-fonts-cjk \
    otf-fira-code otf-fira-sans otf-fira-mono ttf-inconsolata \
    adobe-source-code-pro-fonts adobe-source-sans-pro-fonts adobe-source-serif-pro-fonts \
    nm-connection-manager network-manager-applet \
    materia-gtk-theme materia-kde faenza-icon-theme xfce-theme-greybird \
    enpass-bin firefox-developer-edition quassel-client dino \
    gnome-disk-utility
fi

## pick a de/wm
echo "Install [xfce, xfi3, deepin, sway]: "
read DESKTOP

case $DESKTOP in
  xfce)
    yay -S xorg-server xfce4 xfce4-goodies compton
    curl https://raw.githubusercontent.com/trwnh/arch/master/config/compton.conf -o ~/.config/compton.conf
    #xfconf-query -c xsettings -p /Net/ThemeName -s "Materia-dark"
    ;;
  xfi3)
    yay -S xorg-server xfce4 xfce4-goodies compton i3-gaps
    curl https://raw.githubusercontent.com/trwnh/arch/master/config/compton.conf -o ~/.config/compton.conf
    curl https://raw.githubusercontent.com/trwnh/arch/master/config/i3-gaps -o ~/.config/i3/config
    ;;
  deepin)
    yay -S xorg-server deepin deepin-extra
    ;;
  sway)
    yay -S sway wayland xwayland light playerctl
    curl https://raw.githubusercontent.com/trwnh/arch/master/config/sway -o ~/.config/sway/config
    curl https://raw.githubusercontent.com/trwnh/arch/master/config/swaystatus.sh -o ~/.config/sway/status.sh
    ;;
esac
