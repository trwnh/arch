#!/bin/bash

## post
# login as trwnh

git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -sic
yay --nodiffmenu --save
cd ..
sudo rm -r yay
yay -S \
# fonts
	ttf-amiri ttf-arabeyes-fonts ttf-qurancomplex-fonts ttf-sil-lateef ttf-sil-scheherazade \
	ttf-droid ttf-roboto ttf-roboto-slab ttf-roboto-mono noto-fonts noto-fonts-emoji noto-fonts-extra noto-fonts-cjk \
	otf-fira-code otf-fira-sans otf-fira-mono ttf-inconsolata \
	adobe-source-code-pro-fonts adobe-source-sans-pro-fonts adobe-source-serif-pro-fonts \
# desktop stuff
	nm-connection-manager network-manager-applet \
# apps
	enpass-bin firefox-developer-edition quassel-client dino \
	gnome-disk-utility

## pick a de/wm
printf 'Install [xfce, deepin, sway]: '
read DESKTOP

case $DESKTOP in
  xfce)
    yay -S xorg-server xfce4 xfce4-goodies compton
    curl https://github.com/trwnh/arch/config/compton.conf -O ~/.config/compton.conf
    echo "
    [Desktop Entry]
    Encoding=UTF-8
    Version=0.9.4
    Type=Application
    Name=Compton
    Comment=X11 compositor
    Exec=compton -b
    OnlyShowIn=XFCE;
    StartupNotify=false
    Terminal=false
    Hidden=false
    " > ~/.config/autostart/compton.desktop
    xfconf-query -c xfwm4 -p /general/use_compositing -t bool -s false
  deepin)
    yay -S xorg-server deepin deepin-extra
  sway)
    yay -S sway wayland xwayland light playerctl
    curl https://github.com/trwnh/arch/config/sway -O ~/.config/sway/config
    curl https://github.com/trwnh/arch/config/swaystatus.sh -O ~/.config/sway/status.sh
esac
