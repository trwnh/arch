#!/bin/bash

## prerequisite steps before running this script:
# wifi-menu
# curl https://github.com/trwnh/arch/quickscripts/ux301.1 -o install
# chmod +x ./install
# ./install

timedatectl set-ntp true
parted /dev/sda mklabel gpt
cgdisk /dev/sda
# (make ESP and Root partitions)
mkfs.fat /dev/sda1 -n "ESP"
mkfs.ext4 /dev/sda2 -L "Arch"
mount /dev/sda2 /mnt
mkdir /mnt/boot
mount /dev/sda1 /mnt/boot
pacman -Sy
pacman -S reflector
reflector --country 'US' -p http --sort rate --save /etc/pacman.d/mirrorlist
pacstrap /mnt base base-devel intel-ucode networkmanager \
	git openssh wget zip unzip unrar rsync archey3
genfstab -U /mnt >> /mnt/etc/fstab
arch-chroot /mnt
