#!/bin/bash

## prerequisite steps before running this script:
# wifi-menu
# curl https://github.com/trwnh/arch/quickscripts/ux301.1 -o install
# chmod +x ./install
# ./install

timedatectl set-ntp true
parted /dev/sda mklabel gpt
cgdisk /dev/sda
# (make ESP and Root partitions)
mkfs.fat /dev/sda1 -n "ESP"
mkfs.ext4 /dev/sda2 -L "Arch"
mount /dev/sda2 /mnt
mkdir /mnt/boot
mount /dev/sda1 /mnt/boot
pacman -Sy
pacman -S reflector
reflector --country 'US' -p http --sort rate --save /etc/pacman.d/mirrorlist
pacstrap /mnt base base-devel intel-ucode \
	networkmanager nm-connection-manager network-manager-applet \
	xorg-server wayland xfce4 xfce4-whisker-menu \
	lightdm lightdm-webkit2-greeter \
	materia-gtk-theme faenza-icon-theme \
	ttf-droid ttf-roboto noto-fonts noto-fonts-emoji noto-fonts-extra noto-fonts-cjk \
	otf-fira-code otf-fira-sans otf-fira-mono ttf-inconsolata \
	adobe-source-code-pro-fonts adobe-source-sans-pro-fonts adobe-source-serif-pro-fonts \
	git wget zip unzip unrar rsync archey3 \
	epiphany gnome-disk-utility 
genfstab -U /mnt >> /mnt/etc/fstab
arch-chroot /mnt
